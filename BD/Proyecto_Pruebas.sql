CREATE DATABASE FERRETERIA;
USE FERRETERIA;

CREATE TABLE EMPRESA(
  IDEmpresa INT AUTO_INCREMENT NOT NULL,
  NombreEmpresa VARCHAR(100) NOT NULL,
  NIT CHAR(17) NOT NULL,
  NumeroContribuyente INT NOT NULL,
  Email VARCHAR(100) NULL,
  Telefono CHAR(8) NOT NULL,
  UNIQUE(IDEmpresa),
  UNIQUE(NIT),
  UNIQUE(NumeroContribuyente),
  UNIQUE(Email),
  UNIQUE(Telefono)
);

CREATE TABLE PROVEEDOR(
  IDProveedor INT AUTO_INCREMENT NOT NULL,
  NombreProveedor VARCHAR(100) NOT NULL,
  DUI CHAR(10) NOT NULL,
  NIT CHAR(17) NOT NULL,
  Email VARCHAR(100) NULL,
  Telefono CHAR(8) NULL,
  IDEmpresa INT NOT NULL,
  UNIQUE(IDProveedor),
  UNIQUE(DUI),
  UNIQUE(NIT),
  UNIQUE(Email),
  UNIQUE (Telefono)
);

CREATE TABLE PRODUCTO(
  IDProducto INT AUTO_INCREMENT NOT NULL,
  NombreProducto VARCHAR(100) NOT NULL,
  Costo FLOAT(15,2) DEFAULT (0) NOT NULL,
  Precio FLOAT(15, 2) DEFAULT (0) NOT NULL,
  FechaCaducidad DATE NULL,
  IDMarca INT NOT NULL,
  IDTipo INT NOT NULL,
  UNIQUE(IDProducto)
);

CREATE TABLE TIPO(
  IDTipo INT AUTO_INCREMENT NOT NULL,
  Tipo VARCHAR(50) NULL,
  IDSubArea INT NOT NULL,
  UNIQUE(IDTipo)
);

CREATE TABLE SUBAREA(
  IDSubArea INT AUTO_INCREMENT NOT NULL,
  SubArea VARCHAR(50) NULL,
  IDArea INT NOT NULL,
  UNIQUE(IDSubArea)
);

CREATE TABLE AREA(
  IDArea INT AUTO_INCREMENT NOT NULL,
  Area VARCHAR(50),
  UNIQUE(IDArea)
);

CREATE TABLE PROVEEDORXPRODUCTOXUSUARIO(
  IDProveedor INT NOT NULL,
  IDProducto INT NOT NULL,
  IDUsuario INT NOT NULL,
  Cantidad INT DEFAULT(0),
  Precio DECIMAL(15, 2) DEFAULT(0) NOT NULL,
  FechaIngreso DATE NOT NULL
);

CREATE TABLE ITEM(
  IDItem INT AUTO_INCREMENT NOT NULL,
  NombreItem VARCHAR(100) NULL,
  Descripcion VARCHAR(500) NULL,
  Costo FLOAT(15,2) DEFAULT (0) NOT NULL,
  Precio FLOAT(15, 2) DEFAULT (0) NOT NULL,
  Medidas VARCHAR(50),
  IDProducto INT,
  UNIQUE(IDItem)
);

CREATE TABLE MARCA(
  IDMarca INT AUTO_INCREMENT NOT NULL,
  NombreMarca VARCHAR(100),
  UNIQUE(IDMarca)
);

CREATE TABLE SUCURSAL(
  IDSucursal INT AUTO_INCREMENT NOT NULL,
  Direccion VARCHAR(200),
  Telefono CHAR(8)
);

